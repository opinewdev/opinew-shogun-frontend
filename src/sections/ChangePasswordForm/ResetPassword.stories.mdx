import { Meta, Preview, Story } from '@storybook/addon-docs'

import { getCustomerDecorator, getQueryDecorators } from '../../lib/decorators'
import { uniqueId } from '../../components/Utils'
import { ACCOUNT_CHANGE_PASSWORD_URL } from '../../components/Data'

import ChangePasswordForm from '.'

<Meta title="Sections/ResetPasswordForm" component={ChangePasswordForm} />

# ChangePasswordForm

A section that allows users to reset password using the recover password link.

## Examples

### Default

<Preview>
  <Story
    name="Default"
    decorators={[
      getCustomerDecorator(),
      ...getQueryDecorators(
        {
          query: {
            resetUrl: encodeURIComponent(
              `https://dummy.com/account/reset/${uniqueId()}/${uniqueId()}`,
            ),
          },
        },
        ACCOUNT_CHANGE_PASSWORD_URL,
      ),
    ]}
  >
    {args => <ChangePasswordForm {...args} />}
  </Story>
</Preview>
